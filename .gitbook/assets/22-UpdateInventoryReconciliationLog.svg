<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="520px" preserveAspectRatio="none" style="width:1291px;height:520px;background:#FFFFFF;" version="1.1" viewBox="0 0 1291 520" width="1291px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="26.2969" id="_title" style="stroke:none;stroke-width:1.0;" width="271" x="509.25" y="10"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="261" x="514.25" y="27.9951">Update Inventory Reconciliation</text><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="33" x2="33" y1="104.5938" y2="441.9219"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="391.5" x2="391.5" y1="104.5938" y2="441.9219"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="608.5" x2="608.5" y1="104.5938" y2="441.9219"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="664.5" x2="664.5" y1="104.5938" y2="441.9219"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="766" x2="766" y1="104.5938" y2="441.9219"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1168.5" x2="1168.5" y1="104.5938" y2="441.9219"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1251.5" x2="1251.5" y1="104.5938" y2="441.9219"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="57" x="5" y="73.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="12" y="93.292">Client</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="57" x="5" y="440.9219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="12" y="460.917">Client</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="108" x="337.5" y="73.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="344.5" y="93.292">InventorySvc</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="108" x="337.5" y="440.9219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="344.5" y="460.917">InventorySvc</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="56" x="580.5" y="73.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="587.5" y="93.292">Mdms</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="56" x="580.5" y="440.9219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="587.5" y="460.917">Mdms</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="21" x="651" y="101.292">DB</text><path d="M646.5,52.2969 C646.5,42.2969 664.5,42.2969 664.5,42.2969 C664.5,42.2969 682.5,42.2969 682.5,52.2969 L682.5,78.2969 C682.5,88.2969 664.5,88.2969 664.5,88.2969 C664.5,88.2969 646.5,88.2969 646.5,78.2969 L646.5,52.2969 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M646.5,52.2969 C646.5,62.2969 664.5,62.2969 664.5,62.2969 C664.5,62.2969 682.5,62.2969 682.5,52.2969 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="21" x="651" y="453.917">DB</text><path d="M646.5,467.2188 C646.5,457.2188 664.5,457.2188 664.5,457.2188 C664.5,457.2188 682.5,457.2188 682.5,467.2188 L682.5,493.2188 C682.5,503.2188 664.5,503.2188 664.5,503.2188 C664.5,503.2188 646.5,503.2188 646.5,493.2188 L646.5,467.2188 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M646.5,467.2188 C646.5,477.2188 664.5,477.2188 664.5,477.2188 C664.5,477.2188 682.5,477.2188 682.5,467.2188 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="55" x="739" y="73.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="746" y="93.292">Kafka</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="55" x="739" y="440.9219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="746" y="460.917">Kafka</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="78" x="1129.5" y="73.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="1136.5" y="93.292">Persister</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="78" x="1129.5" y="440.9219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="1136.5" y="460.917">Persister</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="68" x="1217.5" y="73.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54" x="1224.5" y="93.292">Indexer</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="68" x="1217.5" y="440.9219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54" x="1224.5" y="460.917">Indexer</text><polygon fill="#181818" points="379.5,131.7266,389.5,135.7266,379.5,139.7266,383.5,135.7266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="33.5" x2="385.5" y1="135.7266" y2="135.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="40.5" y="130.6606">Inventory Reconciliation</text><polygon fill="#181818" points="596.5,160.8594,606.5,164.8594,596.5,168.8594,600.5,164.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="391.5" x2="602.5" y1="164.8594" y2="164.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="398.5" y="159.7935">Get config from mdms</text><line style="stroke:#181818;stroke-width:1.0;" x1="391.5" x2="433.5" y1="193.9922" y2="193.9922"/><line style="stroke:#181818;stroke-width:1.0;" x1="433.5" x2="433.5" y1="193.9922" y2="206.9922"/><line style="stroke:#181818;stroke-width:1.0;" x1="392.5" x2="433.5" y1="206.9922" y2="206.9922"/><polygon fill="#181818" points="402.5,202.9922,392.5,206.9922,402.5,210.9922,398.5,206.9922" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="398.5" y="188.9263">Validate request</text><polygon fill="#181818" points="652.5,232.125,662.5,236.125,652.5,240.125,656.5,236.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="391.5" x2="658.5" y1="236.125" y2="236.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="246" x="398.5" y="231.0591">Fetch inventory Reconciliation if exists</text><polygon fill="#181818" points="402.5,261.2578,392.5,265.2578,402.5,269.2578,398.5,265.2578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="396.5" x2="663.5" y1="265.2578" y2="265.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="247" x="408.5" y="260.1919">Inventory Reconciliation to be updated</text><line style="stroke:#181818;stroke-width:1.0;" x1="391.5" x2="433.5" y1="294.3906" y2="294.3906"/><line style="stroke:#181818;stroke-width:1.0;" x1="433.5" x2="433.5" y1="294.3906" y2="307.3906"/><line style="stroke:#181818;stroke-width:1.0;" x1="392.5" x2="433.5" y1="307.3906" y2="307.3906"/><polygon fill="#181818" points="402.5,303.3906,392.5,307.3906,402.5,311.3906,398.5,307.3906" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203" x="398.5" y="289.3247">Update Inventory Reconciliation</text><polygon fill="#181818" points="754.5,332.5234,764.5,336.5234,754.5,340.5234,758.5,336.5234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="391.5" x2="760.5" y1="336.5234" y2="336.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="351" x="398.5" y="331.4575">(async) Produce inventory Reconciliation data to Kafka</text><polygon fill="#181818" points="777.5,361.6563,767.5,365.6563,777.5,369.6563,773.5,365.6563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="771.5" x2="1167.5" y1="365.6563" y2="365.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="378" x="783.5" y="360.5903">(async) Consume inventory Reconciliation data from Kafka</text><polygon fill="#181818" points="777.5,390.7891,767.5,394.7891,777.5,398.7891,773.5,394.7891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="771.5" x2="1250.5" y1="394.7891" y2="394.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="378" x="783.5" y="389.7231">(async) Consume inventory Reconciliation data from Kafka</text><polygon fill="#181818" points="44.5,419.9219,34.5,423.9219,44.5,427.9219,40.5,423.9219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="38.5" x2="390.5" y1="423.9219" y2="423.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="334" x="50.5" y="418.856">HttpStatus Ok - inventory Reconciliation data with Id</text><!--MD5=[bccbd37a6e14bf8963e6ab8b0fd02f5f]
@startuml
title Update Inventory Reconciliation

Client -> InventorySvc : Inventory Reconciliation
InventorySvc -> Mdms : Get config from mdms
InventorySvc -> InventorySvc : Validate request
database DB
InventorySvc -> DB : Fetch inventory Reconciliation if exists
InventorySvc <- - DB : Inventory Reconciliation to be updated
InventorySvc -> InventorySvc: Update Inventory Reconciliation
InventorySvc -> Kafka: (async) Produce inventory Reconciliation data to Kafka
Kafka <- Persister: (async) Consume inventory Reconciliation data from Kafka
Kafka <- Indexer: (async) Consume inventory Reconciliation data from Kafka
Client <- - InventorySvc : HttpStatus Ok - inventory Reconciliation data with Id
@enduml

PlantUML version 1.2022.8beta8(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>