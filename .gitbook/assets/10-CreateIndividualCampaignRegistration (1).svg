<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="651px" preserveAspectRatio="none" style="width:1350px;height:651px;background:#FFFFFF;" version="1.1" viewBox="0 0 1350 651" width="1350px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="26.2969" id="_title" style="stroke:none;stroke-width:1.0;" width="254" x="547.25" y="10"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="244" x="552.25" y="27.9951">Create Individual Registration</text><rect fill="#FFFFFF" height="493.2578" style="stroke:#181818;stroke-width:1.0;" width="10" x="338.5" y="104.7266"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="33" x2="33" y1="73.5938" y2="615.9844"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="343.5" x2="343.5" y1="73.5938" y2="615.9844"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="551" x2="551" y1="73.5938" y2="615.9844"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="673" x2="673" y1="73.5938" y2="615.9844"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="836" x2="836" y1="73.5938" y2="615.9844"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="914" x2="914" y1="73.5938" y2="615.9844"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1227.5" x2="1227.5" y1="73.5938" y2="615.9844"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1310.5" x2="1310.5" y1="73.5938" y2="615.9844"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="57" x="5" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="12" y="62.292">Client</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="57" x="5" y="614.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="12" y="634.9795">Client</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="279.5" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="286.5" y="62.292">RegistrationSvc</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="279.5" y="614.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="286.5" y="634.9795">RegistrationSvc</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="83" x="510" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="517" y="62.292">MDMSSvc</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="83" x="510" y="614.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="517" y="634.9795">MDMSSvc</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="141" x="603" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="610" y="62.292">IndividualRegistry</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="141" x="603" y="614.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="610" y="634.9795">IndividualRegistry</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="81" x="796" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="803" y="62.292">IdGenSvc</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="81" x="796" y="614.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="803" y="634.9795">IdGenSvc</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="55" x="887" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="894" y="62.292">Kafka</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="55" x="887" y="614.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="894" y="634.9795">Kafka</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="78" x="1188.5" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="1195.5" y="62.292">Persister</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="78" x="1188.5" y="614.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="1195.5" y="634.9795">Persister</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="68" x="1276.5" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54" x="1283.5" y="62.292">Indexer</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="68" x="1276.5" y="614.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54" x="1283.5" y="634.9795">Indexer</text><rect fill="#FFFFFF" height="493.2578" style="stroke:#181818;stroke-width:1.0;" width="10" x="338.5" y="104.7266"/><polygon fill="#181818" points="326.5,100.7266,336.5,104.7266,326.5,108.7266,330.5,104.7266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="33.5" x2="332.5" y1="104.7266" y2="104.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="40.5" y="99.6606">Individual Registration</text><polygon fill="#181818" points="539.5,129.8594,549.5,133.8594,539.5,137.8594,543.5,133.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="348.5" x2="545.5" y1="133.8594" y2="133.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="355.5" y="128.7935">Fetch Config</text><polygon fill="#181818" points="359.5,158.9922,349.5,162.9922,359.5,166.9922,355.5,162.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="353.5" x2="550.5" y1="162.9922" y2="162.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="365.5" y="157.9263">mdms data</text><line style="stroke:#181818;stroke-width:1.0;" x1="348.5" x2="390.5" y1="207.2578" y2="207.2578"/><line style="stroke:#181818;stroke-width:1.0;" x1="390.5" x2="390.5" y1="207.2578" y2="220.2578"/><line style="stroke:#181818;stroke-width:1.0;" x1="349.5" x2="390.5" y1="220.2578" y2="220.2578"/><polygon fill="#181818" points="359.5,216.2578,349.5,220.2578,359.5,224.2578,355.5,220.2578" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="355.5" y="187.0591">Validate</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="355.5" y="202.1919">Request</text><polygon fill="#181818" points="661.5,245.3906,671.5,249.3906,661.5,253.3906,665.5,249.3906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="348.5" x2="667.5" y1="249.3906" y2="249.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="355.5" y="244.3247">Create Individual</text><polygon fill="#181818" points="824.5,274.5234,834.5,278.5234,824.5,282.5234,828.5,278.5234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="673.5" x2="830.5" y1="278.5234" y2="278.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="680.5" y="273.4575">Generate Individual Id</text><polygon fill="#181818" points="902.5,303.6563,912.5,307.6563,902.5,311.6563,906.5,307.6563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="673.5" x2="908.5" y1="307.6563" y2="307.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203" x="680.5" y="302.5903">(async) Produce Individual Data</text><polygon fill="#181818" points="925.5,332.7891,915.5,336.7891,925.5,340.7891,921.5,336.7891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="919.5" x2="1226.5" y1="336.7891" y2="336.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212" x="931.5" y="331.7231">(async) Consume Individual Data</text><polygon fill="#181818" points="925.5,361.9219,915.5,365.9219,925.5,369.9219,921.5,365.9219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="919.5" x2="1309.5" y1="365.9219" y2="365.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212" x="931.5" y="360.856">(async) Consume Individual Data</text><polygon fill="#181818" points="824.5,391.0547,834.5,395.0547,824.5,399.0547,828.5,395.0547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="348.5" x2="830.5" y1="395.0547" y2="395.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216" x="355.5" y="389.9888">Generate individual registration id</text><polygon fill="#181818" points="359.5,420.1875,349.5,424.1875,359.5,428.1875,355.5,424.1875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="353.5" x2="835.5" y1="424.1875" y2="424.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="365.5" y="419.1216">Individual registration id</text><line style="stroke:#181818;stroke-width:1.0;" x1="348.5" x2="390.5" y1="453.3203" y2="453.3203"/><line style="stroke:#181818;stroke-width:1.0;" x1="390.5" x2="390.5" y1="453.3203" y2="466.3203"/><line style="stroke:#181818;stroke-width:1.0;" x1="349.5" x2="390.5" y1="466.3203" y2="466.3203"/><polygon fill="#181818" points="359.5,462.3203,349.5,466.3203,359.5,470.3203,355.5,466.3203" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="355.5" y="448.2544">Create individual registration</text><polygon fill="#181818" points="902.5,491.4531,912.5,495.4531,902.5,499.4531,906.5,495.4531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="348.5" x2="908.5" y1="495.4531" y2="495.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="278" x="355.5" y="490.3872">(async) Produce Individual registration data</text><polygon fill="#181818" points="925.5,520.5859,915.5,524.5859,925.5,528.5859,921.5,524.5859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="919.5" x2="1226.5" y1="524.5859" y2="524.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="289" x="931.5" y="519.52">(async) Consume Individual registration Data</text><polygon fill="#181818" points="925.5,549.7188,915.5,553.7188,925.5,557.7188,921.5,553.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="919.5" x2="1309.5" y1="553.7188" y2="553.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="289" x="931.5" y="548.6528">(async) Consume Individual registration Data</text><polygon fill="#181818" points="44.5,593.9844,34.5,597.9844,44.5,601.9844,40.5,597.9844" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="38.5" x2="342.5" y1="597.9844" y2="597.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="50.5" y="577.7856">HTTP Status OK</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="281" x="50.5" y="592.9185">Return Payload with individualRegistrationId</text><!--MD5=[f400314010dbb6027965fb4f7c9dd5d5]
@startuml
title Create Individual Registration

Client->RegistrationSvc ++:Individual Registration
RegistrationSvc->MDMSSvc: Fetch Config
MDMSSvc- ->RegistrationSvc: mdms data
RegistrationSvc->RegistrationSvc: Validate\nRequest
RegistrationSvc->IndividualRegistry: Create Individual
IndividualRegistry->IdGenSvc: Generate Individual Id
IndividualRegistry->Kafka: (async) Produce Individual Data
Kafka<-Persister: (async) Consume Individual Data
Kafka<-Indexer: (async) Consume Individual Data

RegistrationSvc->IdGenSvc: Generate individual registration id
IdGenSvc- ->RegistrationSvc: Individual registration id
RegistrationSvc->RegistrationSvc: Create individual registration
RegistrationSvc->Kafka: (async) Produce Individual registration data
Kafka<-Persister: (async) Consume Individual registration Data
Kafka<-Indexer: (async) Consume Individual registration Data
RegistrationSvc->Client - -: HTTP Status OK\nReturn Payload with individualRegistrationId
@enduml

PlantUML version 1.2022.8beta8(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>