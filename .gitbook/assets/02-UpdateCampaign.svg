<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="754px" preserveAspectRatio="none" style="width:980px;height:754px;background:#FFFFFF;" version="1.1" viewBox="0 0 980 754" width="980px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="26.2969" id="_title" style="stroke:none;stroke-width:1.0;" width="153" x="412.75" y="10"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="143" x="417.75" y="27.9951">Update Campaign</text><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="33" x2="33" y1="104.5938" y2="676.1172"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="264" x2="264" y1="104.5938" y2="676.1172"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="371" x2="371" y1="104.5938" y2="676.1172"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="489.5" x2="489.5" y1="104.5938" y2="676.1172"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="558" x2="558" y1="104.5938" y2="676.1172"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="857.5" x2="857.5" y1="104.5938" y2="676.1172"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="940.5" x2="940.5" y1="104.5938" y2="676.1172"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="57" x="5" y="73.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="12" y="93.292">Client</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="57" x="5" y="675.1172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="12" y="695.1123">Client</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="111" x="209" y="73.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="216" y="93.292">CampaignSvc</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="111" x="209" y="675.1172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="216" y="695.1123">CampaignSvc</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="83" x="330" y="73.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="337" y="93.292">MDMSSvc</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="83" x="330" y="675.1172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="337" y="695.1123">MDMSSvc</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="21" x="476" y="101.292">DB</text><path d="M471.5,52.2969 C471.5,42.2969 489.5,42.2969 489.5,42.2969 C489.5,42.2969 507.5,42.2969 507.5,52.2969 L507.5,78.2969 C507.5,88.2969 489.5,88.2969 489.5,88.2969 C489.5,88.2969 471.5,88.2969 471.5,78.2969 L471.5,52.2969 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M471.5,52.2969 C471.5,62.2969 489.5,62.2969 489.5,62.2969 C489.5,62.2969 507.5,62.2969 507.5,52.2969 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="21" x="476" y="688.1123">DB</text><path d="M471.5,701.4141 C471.5,691.4141 489.5,691.4141 489.5,691.4141 C489.5,691.4141 507.5,691.4141 507.5,701.4141 L507.5,727.4141 C507.5,737.4141 489.5,737.4141 489.5,737.4141 C489.5,737.4141 471.5,737.4141 471.5,727.4141 L471.5,701.4141 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M471.5,701.4141 C471.5,711.4141 489.5,711.4141 489.5,711.4141 C489.5,711.4141 507.5,711.4141 507.5,701.4141 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="55" x="531" y="73.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="538" y="93.292">Kafka</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="55" x="531" y="675.1172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="538" y="695.1123">Kafka</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="78" x="818.5" y="73.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="825.5" y="93.292">Persister</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="78" x="818.5" y="675.1172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="825.5" y="695.1123">Persister</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="68" x="906.5" y="73.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54" x="913.5" y="93.292">Indexer</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="68" x="906.5" y="675.1172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54" x="913.5" y="695.1123">Indexer</text><polygon fill="#181818" points="252.5,131.7266,262.5,135.7266,252.5,139.7266,256.5,135.7266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="33.5" x2="258.5" y1="135.7266" y2="135.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="40.5" y="130.6606">Update Campaign</text><polygon fill="#181818" points="359.5,160.8594,369.5,164.8594,359.5,168.8594,363.5,164.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="264.5" x2="365.5" y1="164.8594" y2="164.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="271.5" y="159.7935">Fetch Config</text><polygon fill="#181818" points="275.5,189.9922,265.5,193.9922,275.5,197.9922,271.5,193.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="269.5" x2="370.5" y1="193.9922" y2="193.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="281.5" y="188.9263">mdms data</text><line style="stroke:#181818;stroke-width:1.0;" x1="264.5" x2="306.5" y1="238.2578" y2="238.2578"/><line style="stroke:#181818;stroke-width:1.0;" x1="306.5" x2="306.5" y1="238.2578" y2="251.2578"/><line style="stroke:#181818;stroke-width:1.0;" x1="265.5" x2="306.5" y1="251.2578" y2="251.2578"/><polygon fill="#181818" points="275.5,247.2578,265.5,251.2578,275.5,255.2578,271.5,251.2578" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="271.5" y="218.0591">Validate</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="271.5" y="233.1919">Request</text><polygon fill="#181818" points="477.5,276.3906,487.5,280.3906,477.5,284.3906,481.5,280.3906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="264.5" x2="483.5" y1="280.3906" y2="280.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="271.5" y="275.3247">Fetch campaign record if exists</text><polygon fill="#181818" points="275.5,305.5234,265.5,309.5234,275.5,313.5234,271.5,309.5234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="269.5" x2="488.5" y1="309.5234" y2="309.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="281.5" y="304.4575">Record</text><line style="stroke:#181818;stroke-width:1.0;" x1="264.5" x2="306.5" y1="338.6563" y2="338.6563"/><line style="stroke:#181818;stroke-width:1.0;" x1="306.5" x2="306.5" y1="338.6563" y2="351.6563"/><line style="stroke:#181818;stroke-width:1.0;" x1="265.5" x2="306.5" y1="351.6563" y2="351.6563"/><polygon fill="#181818" points="275.5,347.6563,265.5,351.6563,275.5,355.6563,271.5,351.6563" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="271.5" y="333.5903">Update record</text><polygon fill="#181818" points="546.5,376.7891,556.5,380.7891,546.5,384.7891,550.5,380.7891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="264.5" x2="552.5" y1="380.7891" y2="380.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="271.5" y="375.7231">(async) Produce Campaign Data</text><polygon fill="#181818" points="546.5,405.9219,556.5,409.9219,546.5,413.9219,550.5,409.9219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="264.5" x2="552.5" y1="409.9219" y2="409.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="270" x="271.5" y="404.856">(async) Produce Campaign Schedule Data</text><polygon fill="#181818" points="546.5,435.0547,556.5,439.0547,546.5,443.0547,550.5,439.0547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="264.5" x2="552.5" y1="439.0547" y2="439.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="253" x="271.5" y="433.9888">(async) Produce Campaign Round Data</text><polygon fill="#181818" points="569.5,464.1875,559.5,468.1875,569.5,472.1875,565.5,468.1875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="563.5" x2="856.5" y1="468.1875" y2="468.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213" x="575.5" y="463.1216">(async)Consume Campaign Data</text><polygon fill="#181818" points="569.5,493.3203,559.5,497.3203,569.5,501.3203,565.5,497.3203" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="563.5" x2="856.5" y1="497.3203" y2="497.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="275" x="575.5" y="492.2544">(async)Consume Campaign Schedule Data</text><polygon fill="#181818" points="569.5,522.4531,559.5,526.4531,569.5,530.4531,565.5,526.4531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="563.5" x2="856.5" y1="526.4531" y2="526.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="258" x="575.5" y="521.3872">(async)Consume Campaign Round Data</text><polygon fill="#181818" points="569.5,551.5859,559.5,555.5859,569.5,559.5859,565.5,555.5859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="563.5" x2="939.5" y1="555.5859" y2="555.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217" x="575.5" y="550.52">(async) Consume Campaign Data</text><polygon fill="#181818" points="569.5,580.7188,559.5,584.7188,569.5,588.7188,565.5,584.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="563.5" x2="939.5" y1="584.7188" y2="584.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="279" x="575.5" y="579.6528">(async) Consume Campaign Schedule Data</text><polygon fill="#181818" points="569.5,609.8516,559.5,613.8516,569.5,617.8516,565.5,613.8516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="563.5" x2="939.5" y1="613.8516" y2="613.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="262" x="575.5" y="608.7856">(async) Consume Campaign Round Data</text><polygon fill="#181818" points="44.5,654.1172,34.5,658.1172,44.5,662.1172,40.5,658.1172" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="38.5" x2="263.5" y1="658.1172" y2="658.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="50.5" y="637.9185">HTTP Status OK</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="207" x="50.5" y="653.0513">Return Payload with campaignId</text><!--MD5=[310fb9e08efb8842dab21b95c2e51384]
@startuml
title Update Campaign

Client->CampaignSvc:Update Campaign
CampaignSvc->MDMSSvc: Fetch Config
MDMSSvc- ->CampaignSvc: mdms data
CampaignSvc->CampaignSvc: Validate\nRequest
database DB
CampaignSvc->DB: Fetch campaign record if exists
DB->CampaignSvc: Record
CampaignSvc->CampaignSvc: Update record
CampaignSvc->Kafka: (async) Produce Campaign Data
CampaignSvc->Kafka: (async) Produce Campaign Schedule Data
CampaignSvc->Kafka: (async) Produce Campaign Round Data
Kafka<-Persister: (async)Consume Campaign Data
Kafka<-Persister: (async)Consume Campaign Schedule Data
Kafka<-Persister: (async)Consume Campaign Round Data
Kafka<-Indexer: (async) Consume Campaign Data
Kafka<-Indexer: (async) Consume Campaign Schedule Data
Kafka<-Indexer: (async) Consume Campaign Round Data
CampaignSvc->Client: HTTP Status OK\nReturn Payload with campaignId
@enduml

PlantUML version 1.2022.8beta8(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>