<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="667px" preserveAspectRatio="none" style="width:1268px;height:667px;background:#FFFFFF;" version="1.1" viewBox="0 0 1268 667" width="1268px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="26.2969" id="_title" rx="3.5" ry="3.5" style="stroke:none;stroke-width:1.0;" width="236" x="517.75" y="10"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="226" x="522.75" y="27.9951">Household Member - Search</text><rect fill="#FFFFFF" height="435.7266" style="stroke:#696969;stroke-width:1.0;" width="10" x="627.5" y="135.7266"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#696969;stroke-width:1.0;" width="10" x="1200.5" y="405.7891"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#696969;stroke-width:1.0;" width="10" x="1200.5" y="513.1875"/><rect fill="none" height="94.3984" rx="3.5" ry="3.5" style="stroke:#696969;stroke-width:1.0;" width="810.5" x="9" y="192.8594"/><rect fill="none" height="141.6641" rx="3.5" ry="3.5" style="stroke:#696969;stroke-width:1.0;" width="1207.5" x="55" y="343.3906"/><rect fill="none" height="110.5313" rx="3.5" ry="3.5" style="stroke:#696969;stroke-width:1.0;" width="1187.5" x="65" y="367.5234"/><line style="stroke:#696969;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="321" x2="321" y1="104.5938" y2="589.4531"/><line style="stroke:#696969;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="632.5" x2="632.5" y1="104.5938" y2="589.4531"/><line style="stroke:#696969;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1205.5" x2="1205.5" y1="104.5938" y2="589.4531"/><rect fill="#FF6347" height="30.2969" rx="3.5" ry="3.5" style="stroke:#454645;stroke-width:1.5;" width="55" x="294" y="73.2969"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="301" y="93.292">Client</text><rect fill="#FF6347" height="30.2969" rx="3.5" ry="3.5" style="stroke:#454645;stroke-width:1.5;" width="55" x="294" y="588.4531"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="301" y="608.4482">Client</text><rect fill="#FF6347" height="30.2969" rx="3.5" ry="3.5" style="stroke:#454645;stroke-width:1.5;" width="148" x="558.5" y="73.2969"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="565.5" y="93.292">HouseholdRegistry</text><rect fill="#FF6347" height="30.2969" rx="3.5" ry="3.5" style="stroke:#454645;stroke-width:1.5;" width="148" x="558.5" y="588.4531"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="565.5" y="608.4482">HouseholdRegistry</text><text fill="#454645" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="1168.5" y="101.292">Database</text><path d="M1187.5,52.2969 C1187.5,42.2969 1205.5,42.2969 1205.5,42.2969 C1205.5,42.2969 1223.5,42.2969 1223.5,52.2969 L1223.5,78.2969 C1223.5,88.2969 1205.5,88.2969 1205.5,88.2969 C1205.5,88.2969 1187.5,88.2969 1187.5,78.2969 L1187.5,52.2969 " fill="#00FFFF" style="stroke:#454645;stroke-width:1.5;"/><path d="M1187.5,52.2969 C1187.5,62.2969 1205.5,62.2969 1205.5,62.2969 C1205.5,62.2969 1223.5,62.2969 1223.5,52.2969 " fill="none" style="stroke:#454645;stroke-width:1.5;"/><text fill="#454645" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="1168.5" y="601.4482">Database</text><path d="M1187.5,614.75 C1187.5,604.75 1205.5,604.75 1205.5,604.75 C1205.5,604.75 1223.5,604.75 1223.5,614.75 L1223.5,640.75 C1223.5,650.75 1205.5,650.75 1205.5,650.75 C1205.5,650.75 1187.5,650.75 1187.5,640.75 L1187.5,614.75 " fill="#00FFFF" style="stroke:#454645;stroke-width:1.5;"/><path d="M1187.5,614.75 C1187.5,624.75 1205.5,624.75 1205.5,624.75 C1205.5,624.75 1223.5,624.75 1223.5,614.75 " fill="none" style="stroke:#454645;stroke-width:1.5;"/><rect fill="#FFFFFF" height="435.7266" style="stroke:#696969;stroke-width:1.0;" width="10" x="627.5" y="135.7266"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#696969;stroke-width:1.0;" width="10" x="1200.5" y="405.7891"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#696969;stroke-width:1.0;" width="10" x="1200.5" y="513.1875"/><polygon fill="#454645" points="615.5,131.7266,625.5,135.7266,615.5,139.7266,619.5,135.7266" style="stroke:#454645;stroke-width:1.0;"/><line style="stroke:#454645;stroke-width:1.0;" x1="321.5" x2="621.5" y1="135.7266" y2="135.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204" x="328.5" y="130.6606">/household/member/v1/_search</text><line style="stroke:#454645;stroke-width:1.0;" x1="637.5" x2="679.5" y1="164.8594" y2="164.8594"/><line style="stroke:#454645;stroke-width:1.0;" x1="679.5" x2="679.5" y1="164.8594" y2="177.8594"/><line style="stroke:#454645;stroke-width:1.0;" x1="638.5" x2="679.5" y1="177.8594" y2="177.8594"/><polygon fill="#454645" points="648.5,173.8594,638.5,177.8594,648.5,181.8594,644.5,177.8594" style="stroke:#454645;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="644.5" y="159.7935">Validate request body</text><path d="M12.5,192.8594 L73,192.8594 L73,199.9922 L63,209.9922 L9,209.9922 L9,196.3594 A3.5,3.5 0 0 1 12.5,192.8594 " fill="#EEEEEE" style="stroke:#696969;stroke-width:1.5;"/><rect fill="none" height="94.3984" rx="3.5" ry="3.5" style="stroke:#696969;stroke-width:1.0;" width="810.5" x="9" y="192.8594"/><text fill="#454645" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="24" y="205.9263">alt</text><text fill="#696969" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="154" x="88" y="205.0698">[request validation fails]</text><line style="stroke:#454645;stroke-width:1.0;" x1="637.5" x2="679.5" y1="231.125" y2="231.125"/><line style="stroke:#454645;stroke-width:1.0;" x1="679.5" x2="679.5" y1="231.125" y2="244.125"/><line style="stroke:#454645;stroke-width:1.0;" x1="638.5" x2="679.5" y1="244.125" y2="244.125"/><polygon fill="#454645" points="648.5,240.125,638.5,244.125,648.5,248.125,644.5,244.125" style="stroke:#454645;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163" x="644.5" y="226.0591">Request validation failed</text><polygon fill="#454645" points="332.5,272.2578,322.5,276.2578,332.5,280.2578,328.5,276.2578" style="stroke:#454645;stroke-width:1.0;"/><line style="stroke:#454645;stroke-width:1.0;" x1="326.5" x2="626.5" y1="276.2578" y2="276.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="282" x="338.5" y="271.1919">HttpStatus: 400 with appropriate error code</text><path d="M19,260.625 L19,278.625 A3.5,3.5 0 0 0 22.5,282.125 L312.5,282.125 A3.5,3.5 0 0 0 316,278.625 L316,267.125 L306,257.125 L22.5,257.125 A3.5,3.5 0 0 0 19,260.625 " fill="#7FFFD4" style="stroke:#181818;stroke-width:1.5;"/><path d="M306,257.125 L306,265.375 A1.75,1.75 0 0 0 307.75,267.125 L316,267.125 L306,257.125 " fill="#7FFFD4" style="stroke:#181818;stroke-width:1.5;"/><text fill="#454645" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="276" x="25" y="274.1919">Error Code: REQUEST_VALIDATION_FAILED</text><line style="stroke:#454645;stroke-width:1.0;" x1="637.5" x2="679.5" y1="315.3906" y2="315.3906"/><line style="stroke:#454645;stroke-width:1.0;" x1="679.5" x2="679.5" y1="315.3906" y2="328.3906"/><line style="stroke:#454645;stroke-width:1.0;" x1="638.5" x2="679.5" y1="328.3906" y2="328.3906"/><polygon fill="#454645" points="648.5,324.3906,638.5,328.3906,648.5,332.3906,644.5,328.3906" style="stroke:#454645;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="644.5" y="310.3247">Request validation successful</text><path d="M58.5,343.3906 L119,343.3906 L119,350.5234 L109,360.5234 L55,360.5234 L55,346.8906 A3.5,3.5 0 0 1 58.5,343.3906 " fill="#EEEEEE" style="stroke:#696969;stroke-width:1.5;"/><rect fill="none" height="141.6641" rx="3.5" ry="3.5" style="stroke:#696969;stroke-width:1.0;" width="1207.5" x="55" y="343.3906"/><text fill="#454645" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="70" y="356.4575">alt</text><text fill="#696969" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="144" x="134" y="355.6011">[search mapping table]</text><path d="M68.5,367.5234 L129,367.5234 L129,374.6563 L119,384.6563 L65,384.6563 L65,371.0234 A3.5,3.5 0 0 1 68.5,367.5234 " fill="#EEEEEE" style="stroke:#696969;stroke-width:1.5;"/><rect fill="none" height="110.5313" rx="3.5" ry="3.5" style="stroke:#696969;stroke-width:1.0;" width="1187.5" x="65" y="367.5234"/><text fill="#454645" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="80" y="380.5903">alt</text><text fill="#696969" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="139" x="144" y="379.7339">[no matching records]</text><polygon fill="#454645" points="1188.5,401.7891,1198.5,405.7891,1188.5,409.7891,1192.5,405.7891" style="stroke:#454645;stroke-width:1.0;"/><line style="stroke:#454645;stroke-width:1.0;" x1="637.5" x2="1194.5" y1="405.7891" y2="405.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="544" x="644.5" y="400.7231">Search mapping table by individual/household clientReferenceId/serverGeneratedId</text><polygon fill="#454645" points="648.5,430.9219,638.5,434.9219,648.5,438.9219,644.5,434.9219" style="stroke:#454645;stroke-width:1.0;"/><line style="stroke:#454645;stroke-width:1.0;" x1="642.5" x2="1204.5" y1="434.9219" y2="434.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="654.5" y="429.856">0 rows</text><polygon fill="#454645" points="332.5,463.0547,322.5,467.0547,332.5,471.0547,328.5,467.0547" style="stroke:#454645;stroke-width:1.0;"/><line style="stroke:#454645;stroke-width:1.0;" x1="326.5" x2="626.5" y1="467.0547" y2="467.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="282" x="338.5" y="461.9888">HttpStatus: 400 with appropriate error code</text><path d="M75,451.4219 L75,469.4219 A3.5,3.5 0 0 0 78.5,472.9219 L312.5,472.9219 A3.5,3.5 0 0 0 316,469.4219 L316,457.9219 L306,447.9219 L78.5,447.9219 A3.5,3.5 0 0 0 75,451.4219 " fill="#7FFFD4" style="stroke:#181818;stroke-width:1.5;"/><path d="M306,447.9219 L306,456.1719 A1.75,1.75 0 0 0 307.75,457.9219 L316,457.9219 L306,447.9219 " fill="#7FFFD4" style="stroke:#181818;stroke-width:1.5;"/><text fill="#454645" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="220" x="81" y="464.9888">Error Code: RECORD_NOT_FOUND</text><polygon fill="#454645" points="1188.5,509.1875,1198.5,513.1875,1188.5,517.1875,1192.5,513.1875" style="stroke:#454645;stroke-width:1.0;"/><line style="stroke:#454645;stroke-width:1.0;" x1="637.5" x2="1194.5" y1="513.1875" y2="513.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="543" x="644.5" y="508.1216">search mapping table by individual/household clientReferenceId/serverGeneratedId</text><polygon fill="#454645" points="648.5,538.3203,638.5,542.3203,648.5,546.3203,644.5,542.3203" style="stroke:#454645;stroke-width:1.0;"/><line style="stroke:#454645;stroke-width:1.0;" x1="642.5" x2="1204.5" y1="542.3203" y2="542.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="654.5" y="537.2544">1-n rows</text><polygon fill="#454645" points="332.5,567.4531,322.5,571.4531,332.5,575.4531,328.5,571.4531" style="stroke:#454645;stroke-width:1.0;"/><line style="stroke:#454645;stroke-width:1.0;" x1="326.5" x2="631.5" y1="571.4531" y2="571.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="259" x="338.5" y="566.3872">HttpStatus: 200 OK with found record(s)</text><!--MD5=[6f7310ef1fc7dd0a764816292a56ff93]
@startuml
title Household Member - Search
!theme vibrant
participant Client as c
participant HouseholdRegistry as s
database Database as db
c -> s : /household/member/v1/_search
activate s
s -> s: Validate request body
alt request validation fails
    s -> s: Request validation failed
    s -> c: HttpStatus: 400 with appropriate error code
    note left
      Error Code: REQUEST_VALIDATION_FAILED
    end note
end
s -> s: Request validation successful
alt search mapping table
    alt no matching records
        s -> db: Search mapping table by individual/household clientReferenceId/serverGeneratedId
        activate db
        db -> s: 0 rows
        deactivate db
        s -> c: HttpStatus: 400 with appropriate error code
        note left
          Error Code: RECORD_NOT_FOUND
        end note
    end
end

s -> db: search mapping table by individual/household clientReferenceId/serverGeneratedId
activate db
db -> s: 1-n rows
deactivate db
s -> c: HttpStatus: 200 OK with found record(s)
deactivate s
@enduml

@startuml
title Household Member - Search
skinparam BackgroundColor FFFFFF
skinparam shadowing false
skinparam RoundCorner 7
skinparam ArrowColor 454645
skinparam FontColor 454645
skinparam SequenceLifeLineBorderColor 696969
skinparam SequenceGroupHeaderFontColor 454645
skinparam SequenceGroupFontColor 696969
skinparam SequenceGroupBorderColor 696969
skinparam SequenceGroupBorderThickness 1

skinparam sequenceDivider {
    BorderColor 454645
    BorderThickness 1
    FontColor 454645
}

skinparam participant {
    BackgroundColor FF6347
    BorderColor 454645
    FontColor FFFFFF
    BorderThickness 1.5
}

skinparam database {
    BackgroundColor 00FFFF
    BorderColor 454645
    FontColor 454645
}

skinparam entity {
    BackgroundColor FFE552
    BorderColor 454645
    FontColor 454645
}

skinparam note {
    BackgroundColor 7FFFD4
    BorderColor 454645
    FontColor 454645
    BorderThickness 1.5
}

skinparam actor {
    BackgroundColor 454645
    BorderColor 454645
    FontColor 454645
}

skinparam boundary {
    BackgroundColor FFE552
    BorderColor 454645
    FontColor 454645
}

skinparam control {
    BackgroundColor FFE552
    BorderColor 454645
    FontColor 454645
}

skinparam collections {
    BackgroundColor FF5F42
    BorderColor 454645
    FontColor 454645
}

skinparam queue {
    BackgroundColor FF6347
    BorderColor 454645
    FontColor FFF
    BorderThickness 1.5
}
participant Client as c
participant HouseholdRegistry as s
database Database as db
c -> s : /household/member/v1/_search
activate s
s -> s: Validate request body
alt request validation fails
    s -> s: Request validation failed
    s -> c: HttpStatus: 400 with appropriate error code
    note left
      Error Code: REQUEST_VALIDATION_FAILED
    end note
end
s -> s: Request validation successful
alt search mapping table
    alt no matching records
        s -> db: Search mapping table by individual/household clientReferenceId/serverGeneratedId
        activate db
        db -> s: 0 rows
        deactivate db
        s -> c: HttpStatus: 400 with appropriate error code
        note left
          Error Code: RECORD_NOT_FOUND
        end note
    end
end

s -> db: search mapping table by individual/household clientReferenceId/serverGeneratedId
activate db
db -> s: 1-n rows
deactivate db
s -> c: HttpStatus: 200 OK with found record(s)
deactivate s
@enduml

PlantUML version 1.2022.12(Sun Oct 23 23:42:26 IST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>